<div class="container mx-auto flex flex-col gap-5">
  <%= form_with(model: appointment) do |f| %>
    <div class="form-control w-full mb-2">
      <%= f.label :time_range_start, class: "label" %>
      <%= f.datetime_field :time_range_start, class: "input input-primary" %>
    </div>

    <div class="form-control w-full mb-2">
      <%= f.label :time_range_end, class: "label" %>
      <%= f.datetime_field :time_range_end, class: "input input-primary" %>
    </div>

    <div class="form-control w-full mb-2">
      <%= f.label :comment, class: "label" %>
      <%= f.text_area :comment, class: "textarea input-primary h-24" %>
    </div>

    <div class="form-control w-full mb-2">
      <%= f.label :appointment_kind_id, class: "label" %>
      <div class="join">
        <%= f.collection_select :appointment_kind_id, current_account.appointment_kinds, :id, :name,
                                {include_blank: "No tag"}, class: "select select-primary join-item w-full" %>
        <button type="button" class="btn btn-primary join-item text-lg"
                onclick="document.querySelector('#appointment-kind-form').click()">+</button>
      </div>
    </div>

    <%= f.submit "Save", class: "btn btn-primary w-full mt-3" %>
  <% end %>

  <div class="drawer">
    <input id="appointment-kind-form" type="checkbox" class="drawer-toggle"/>
    <div class="drawer-side">
      <label for="appointment-kind-form" class="drawer-overlay"></label>
      <div class="menu p-4 w-80 min-h-full bg-base-200 text-base-content">
        <h2 class="text-2xl">Create Appointment Kind</h2>
        <%= form_with(model: AppointmentKind.new) do |f| %>
          <div class="form-control w-full mb-2">
            <%= f.label :name, class: "label" %>
            <%= f.text_field :name, class: "input input-primary" %>
          </div>

          <%= f.submit "Save", class: "btn btn-primary w-full mt-3" %>
        <% end %>
      </div>
    </div>
  </div>
</div>
